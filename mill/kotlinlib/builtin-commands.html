<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Built-in Commands :: The Mill Build Tool</title>
    <link rel="prev" href="installation-ide.html" />
    <link rel="next" href="module-config.html" />
    <meta name="generator" content="Antora 3.1.9" />
    <link rel="stylesheet" href="../../_/css/site.css" />
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-1C582ZJR85"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-1C582ZJR85')</script>
<link rel="icon" href="../../_/favicon.png" type="image/x-icon" />
  
  </head><body class="article">
  
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: add mill icon -->
      <a class="navbar-item" href="https://mill-build.org"><img src="../../_/logo-white.svg" height="20" />Â The Mill Build Tool</a>
      <div class="navbar-item search">
        <input id="search-input" type="text" placeholder="Search the docs" />
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">Source Code (GitHub)</a>
        <a class="navbar-item" href="https://mill-build.org/api/latest/index.html">API</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/discussions">Discuss</a>
        <a class="navbar-item" href="https://discord.gg/MNAXQMAr">Chat</a>

            <!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#"></a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
        -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mill" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">

  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../javalib/intro.html">Building Java Projects with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../javalib/installation-ide.html">Installation and IDE Support</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../javalib/builtin-commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../javalib/module-config.html">Java Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../javalib/dependencies.html">Java Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../javalib/testing.html">Testing Java Projects</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../javalib/linting.html">Linting Java Projects</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../javalib/publishing.html">Publishing Java Projects</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../javalib/build-examples.html">Java Build Examples</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../javalib/web-examples.html">Java Web Examples</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../javalib/android-examples.html">(Experimental) Android Builds</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../scalalib/intro.html">Building Scala Projects with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scalalib/installation-ide.html">Installation and IDE Support</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scalalib/builtin-commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scalalib/module-config.html">Scala Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scalalib/dependencies.html">Scala Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scalalib/testing.html">Testing Scala Projects</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scalalib/linting.html">Linting Scala Projects</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scalalib/publishing.html">Publishing Scala Projects</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scalalib/build-examples.html">Scala Build Examples</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scalalib/web-examples.html">Scala Web Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="intro.html">(Experimental) Kotlin with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="installation-ide.html">Installation and IDE Support</a>
  </li>

  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="builtin-commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="module-config.html">Kotlin Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dependencies.html">Kotlin Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="testing.html">Testing Kotlin Projects</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="linting.html">Linting Kotlin Projects</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="publishing.html">Publishing Kotlin Projects</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="build-examples.html">Kotlin Build Examples</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="web-examples.html">Kotlin Web Examples</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="android-examples.html">(Experimental) Android Builds</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Build Tool Comparisons</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../comparisons/maven.html">Case Study: Mill vs Maven</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../comparisons/gradle.html">Case Study: Mill vs Gradle</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../comparisons/sbt.html">Case Study: Mill vs SBT</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill Fundamentals</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fundamentals/library-deps.html">Library Dependencies in Mill</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fundamentals/out-dir.html">The Output Directory</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fundamentals/query-syntax.html">Task Query Syntax</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fundamentals/tasks.html">Tasks</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fundamentals/modules.html">Modules</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fundamentals/cross-builds.html">Cross Builds</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fundamentals/bundled-libraries.html">Bundled Libraries</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extending Mill</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../extending/import-ivy.html">import $ivy</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../extending/using-plugins.html">Using Plugins</a>
  </li>

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../extending/contrib-plugins.html">Contrib Plugins</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/artifactory.html">Artifactory</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/bintray.html">Bintray</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/bloop.html">Bloop</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/buildinfo.html">BuildInfo</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/codeartifact.html">Codeartifact</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/docker.html">Docker</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/flyway.html">Flyway</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/gitlab.html">Gitlab</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/jmh.html">JMH</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/playlib.html">Play Framework</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/proguard.html">Proguard</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/scalapblib.html">ScalaPB</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/scoverage.html">Scoverage</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/sonatypecentral.html">Sonatype Central</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/testng.html">TestNG</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/twirllib.html">Twirl</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contrib/versionfile.html">Version file</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../extending/thirdparty-plugins.html">Third-Party Plugins</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../extending/writing-plugins.html">Writing Mill Plugins</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../extending/meta-build.html">The Mill Meta-Build</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill In Depth</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../depth/large-builds.html">Structuring Large Builds</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../depth/sandboxing.html">Mill Sandboxing</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../depth/evaluation-model.html">The Mill Evaluation Model</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../depth/design-principles.html">Mill Design Principles</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://mill-build.org/api/latest/mill/index.html">Mill Scaladoc</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../reference/changelog.html">Changelog</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Mill Documentation</a></li>
    <li><a href="intro.html">(Experimental) Kotlin with Mill</a></li>
    <li><a href="builtin-commands.html">Built-in Commands</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">0.12.0-RC3-48-cc1aa6</button>
  <div class="version-menu">
    <a class="version is-current" href="builtin-commands.html">0.12.0-RC3-48-cc1aa6</a>
    <a class="version is-missing" href="../0.11.12/index.html">0.11.12</a>
    <a class="version is-missing" href="../0.11.11/index.html">0.11.11</a>
    <a class="version is-missing" href="../0.11.10/index.html">0.11.10</a>
    <a class="version is-missing" href="../0.11.0-M7/index.html">0.11.0-M7</a>
    <a class="version is-missing" href="../0.10.15/index.html">0.10.15</a>
    <a class="version is-missing" href="../0.10.12/index.html">0.10.12</a>
    <a class="version is-missing" href="../0.10.0/index.html">0.10.0</a>
    <a class="version is-missing" href="../0.9.12/index.html">0.9.12</a>
  </div>
</div>
<div class="edit-this-page"><a href="https://github.com/com-lihaoyi/mill/edit/main/docs/modules/ROOT/pages/kotlinlib/builtin-commands.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Built-in Commands</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Mill comes with a number of useful commands out of the box. These are listed
in the API Docs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://mill-build.org/api/latest/mill/main/MainModule.html">mill.main.MainModule</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Millâs built-in commands are typically not directly related to building your
application code, but instead are utilities that help you understand and work
with your Mill build.</p>
</div>
<div class="paragraph">
<p>The following examples will be assuming the <code>build.mill</code> file given below:</p>
</div>
<div class="listingblock">
<div class="title">build.mill (<a href="https://github.com/com-lihaoyi/mill/releases/download/0.12.0-RC3/0.12.0-RC3-example-kotlinlib-basic-4-builtin-commands.zip">download</a>, <a href="https://github.com/com-lihaoyi/mill/blob/0.12.0-RC3//example/kotlinlib/basic/4-builtin-commands">browse</a>)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">package build
import mill._, kotlinlib._

trait MyModule extends KotlinModule {

  def kotlinVersion = &quot;1.9.24&quot;
}

object foo extends MyModule {
  def mainClass = Some(&quot;foo.FooKt&quot;)
  def moduleDeps = Seq(bar)
  def ivyDeps = Agg(
    ivy&quot;com.github.ajalt.clikt:clikt-jvm:4.4.0&quot;
  )
}

object bar extends MyModule {
  def mainClass = Some(&quot;bar.BarKt&quot;)
  def ivyDeps = Agg(
    ivy&quot;org.jetbrains.kotlinx:kotlinx-html-jvm:0.11.0&quot;
  )

  object test extends KotlinTests with TestModule.Junit5 {
    def ivyDeps = super.ivyDeps() ++ Agg(
      ivy&quot;io.kotest:kotest-runner-junit5-jvm:5.9.1&quot;
    )
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resolve"><a class="anchor" href="#_resolve"></a>resolve</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>resolve</code> lists the tasks that match a particular query, without running them.
This is useful for &quot;dry running&quot; an <code>mill</code> command to see what would be run
before you run them, or to explore what modules or tasks are available
from the command line using <code>resolve _</code>, <code>resolve foo._</code>, etc.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill resolve _
foo
bar
clean
inspect
path
plan
resolve
show
shutdown
version
visualize
visualizePlan

&gt; mill resolve _.compile
foo.compile

&gt; mill resolve foo._
foo.allSourceFiles
foo.allSources
foo.artifactId
foo.artifactName
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also use the special wildcards <code>_</code> as a placeholder for a single segment
and <code>__</code> as a placeholder for many segments.
Lists within curly braces (<code>{</code>, <code>}</code>) are also supported.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill resolve foo.{compile,run}
&gt; mill resolve &quot;foo.{compile,run}&quot;
&gt; mill resolve foo.compile foo.run
&gt; mill resolve _.compile  # list the compile tasks for every top-level module
&gt; mill resolve __.compile # list the compile tasks for every module
&gt; mill resolve _          # list every top level module and task
&gt; mill resolve foo._      # list every task directly within the foo module
&gt; mill resolve __         # list every module and task recursively</code></pre>
</div>
</div>
<div class="paragraph">
<p>See the documentation for <a href="#Task Query Syntax">[Task Query Syntax]</a> for more details what you
can pass to <code>resolve</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inspect"><a class="anchor" href="#_inspect"></a>inspect</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>inspect</code> is a more verbose version of <a href="#_resolve">resolve</a>. In addition to printing
out the name of one-or-more tasks, it also displays its source location and a
list of input tasks. This is very useful for debugging and interactively
exploring the structure of your build from the command line.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill inspect foo.run
foo.run(RunModule...)
    Runs this module's code in a subprocess and waits for it to finish
Inputs:
    foo.finalMainClass
    foo.runClasspath
    foo.forkArgs
    foo.forkWorkingDir
    foo.runUseArgsFile</code></pre>
</div>
</div>
<div class="paragraph">
<p>While <code>inspect</code> also works with the same <code>_</code>/<code>__</code> wildcard/query syntax
that <a href="#_resolve">resolve</a> do, the most common use case is to inspect one task at a
time.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_show"><a class="anchor" href="#_show"></a>show</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, Mill does not print out the metadata from evaluating a task.
Most people would not be interested in e.g. viewing the metadata related to
incremental compilation: they just want to compile their code! However, if you
want to inspect the build to debug problems, you can make Mill show you the
metadata output for a task using the <code>show</code> command. e.g. if it seems source
files are not getting picked up, you can <code>show foo.sources</code> to see where Mill
is looking for the <code>foo</code> moduleâs source files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill show foo.sources
[
  &quot;.../foo/src&quot;
]

&gt; mill show foo.allSourceFiles
[
  &quot;.../foo/src.../Foo...&quot;
]</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>show</code> is not just for showing configuration values. All tasks return values
that can be shown with <code>show</code>.
E.g. <code>compile</code> returns the paths to the <code>classes</code> folder and <code>analysisFile</code>
file produced by the compilation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill show foo.compile
{
  &quot;analysisFile&quot;: &quot;.../out/foo/compile.dest/kotlin.analysis.dummy&quot;,
  &quot;classes&quot;: &quot;.../out/foo/compile.dest/classes&quot;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>show</code> is also useful for interacting with Mill from external tools, since the
JSON it outputs is structured and easily parsed and manipulated. You can easily
pipe the <code>show</code> output into a python script or <code>jq</code> to manipulate it further.</p>
</div>
<div class="paragraph">
<p>When <code>show</code> is used with multiple task, its output will slightly change to a
JSON dictionary, with the keys being the task names and the values being the
JSON results of the given task.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill show 'foo.{sources,compileClasspath}'
{
  &quot;foo.sources&quot;: [
    &quot;.../foo/src&quot;
  ],
  &quot;foo.compileClasspath&quot;: [
    ...
    &quot;.../foo/compile-resources&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_shownamed"><a class="anchor" href="#_shownamed"></a>showNamed</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Same as <code>show</code>, but the output will always be structured in a JSON
dictionary, whether there is one or more task in the selection</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill showNamed 'foo.sources'
{
  &quot;foo.sources&quot;: [
    &quot;.../foo/src&quot;
  ]
}

&gt; mill showNamed 'foo.{sources,compileClasspath}'
{
  &quot;foo.sources&quot;: [
    &quot;.../foo/src&quot;
  ],
  &quot;foo.compileClasspath&quot;: [
    ...
    &quot;.../foo/compile-resources&quot;
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This can make it easier to programmatically work with the output of running
one-or-more tasks via Mill wildcard queries, since the <code>{&quot;&lt;task-name&gt;&quot;: &lt;output&gt;}</code>
structure remains the same regardless of how many values the query returns.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_path"><a class="anchor" href="#_path"></a>path</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>mill path</code> prints out a dependency chain between the first task and the
second. It is very useful for exploring the build graph and trying to figure
out how data gets from one task to another, or trying to figure out why
running <code>mill foo</code> ends up running another task <code>bar</code> that you didnât
expect it to.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill path foo.assembly foo.sources
foo.sources
foo.allSources
foo.allSourceFiles
foo.compile
foo.finalMainClassOpt
foo.prependShellScript
foo.assembly</code></pre>
</div>
</div>
<div class="paragraph">
<p>If there are multiple possible dependency chains, one of them is picked
arbitrarily.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_plan"><a class="anchor" href="#_plan"></a>plan</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>mill plan foo</code> shows which tasks would be evaluated if you ran <code>mill foo</code>,
and in what order, but without actually running them. This is a useful tool for
debugging your build: e.g. if you suspect a task <code>foo</code> is running things that
it shouldnât be running, a quick <code>mill plan</code> will list out all the upstream
tasks that <code>foo</code> needs to run, and you can then follow up with <code>mill path</code> on
any individual upstream task to see exactly how <code>foo</code> depends on it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill plan foo.compileClasspath
foo.transitiveCompileClasspath
foo.compileResources
foo.unmanagedClasspath
...
foo.compileIvyDeps
...
foo.ivyDeps
foo.transitiveIvyDeps
foo.compileClasspath</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that due to parallelism, the given order is only the order that the tasks
will be <em>started</em>: the order in which tasks <em>complete</em> may be different since
the tasks will run in parallel taking varying amounts of time.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_clean"><a class="anchor" href="#_clean"></a>clean</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>clean</code> deletes all the cached outputs of previously executed tasks.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill clean</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>clean</code> without arguments cleans the entire project.
It also accepts arguments to clean specific modules, or specific tasks.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill clean             # clean all outputs
&gt; mill clean foo         # clean all outputs for module 'foo' (including nested modules)
&gt; mill clean foo.compile # only clean outputs for task 'compile' in module 'foo'
&gt; mill clean foo.{compile,run}
&gt; mill clean &quot;foo.{compile,run}&quot;
&gt; mill clean foo.compile foo.run
&gt; mill clean _.compile
&gt; mill clean __.compile</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_visualize"><a class="anchor" href="#_visualize"></a>visualize</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill visualize foo._
[
  &quot;.../out/visualize.dest/out.dot&quot;,
  &quot;.../out/visualize.dest/out.json&quot;,
  &quot;.../out/visualize.dest/out.png&quot;,
  &quot;.../out/visualize.dest/out.svg&quot;,
  &quot;.../out/visualize.dest/out.txt&quot;
]</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>mill visualize</code> takes a subset of the Mill build graph (e.g. <code>core._</code>
is every task directly under the <code>core</code> module) and draws out their
relationships in <code>.svg</code> and <code>.png</code> form for you to inspect. It also generates
<code>.txt</code>, <code>.dot</code> and <code>.json</code> for easy processing by downstream tools.</p>
</div>
<div class="paragraph">
<p>The above command generates the following diagram (right-click open in new tab to see full sized):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/VisualizeJava.svg" alt="VisualizeJava.svg" />
</div>
</div>
<div class="paragraph">
<p><code>visualize</code> can be very handy for trying to understand the dependency graph of
tasks within your Mill build.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_visualizeplan"><a class="anchor" href="#_visualizeplan"></a>visualizePlan</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill visualizePlan foo.run
[
  &quot;.../out/visualizePlan.dest/out.dot&quot;,
  &quot;.../out/visualizePlan.dest/out.json&quot;,
  &quot;.../out/visualizePlan.dest/out.png&quot;,
  &quot;.../out/visualizePlan.dest/out.svg&quot;,
  &quot;.../out/visualizePlan.dest/out.txt&quot;
]</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>mill visualizePlan</code> is similar to <code>mill visualize</code> except that it
shows a graph of the entire build plan, including tasks not directly resolved
by the query. Tasks directly resolved are shown with a solid border, and
dependencies are shown with a dotted border.</p>
</div>
<div class="paragraph">
<p>The above command generates the following diagram (right-click open in new tab to see full sized):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/VisualizePlanJava.svg" alt="VisualizePlanJava.svg" />
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_init"><a class="anchor" href="#_init"></a>init</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill init
Run `mill init &lt;example-id&gt;` with one of these examples as an argument to download and extract example.
Run `mill init --show-all` to see full list of examples.
Run `mill init &lt;Giter8 template&gt;` to generate project from Giter8 template.
...
scalalib/basic/1-simple
...
scalalib/web/1-todo-webapp
scalalib/web/2-webapp-cache-busting
scalalib/web/3-scalajs-module
scalalib/web/4-webapp-scalajs
scalalib/web/5-webapp-scalajs-shared
...
javalib/basic/1-simple
...
javalib/builds/4-realistic
...
javalib/web/1-hello-jetty
javalib/web/2-hello-spring-boot
javalib/web/3-todo-spring-boot
javalib/web/4-hello-micronaut
javalib/web/5-todo-micronaut
kotlinlib/basic/1-simple
...
kotlinlib/builds/4-realistic
...
kotlinlib/web/1-hello-ktor</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>init</code> command generates a project based on a Mill example project or
a Giter8 template. You can use it to quickly generate a starter project.
There are lots of templates out there for many frameworks and tools!</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="installation-ide.html">Installation and IDE Support</a></span>
  <span class="next"><a href="module-config.html">Kotlin Module Configuration</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async="async" src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async="async" src="../../search-index.js"></script>
  
</body></html>