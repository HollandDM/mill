<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Testing Scala Projects :: The Mill Build Tool</title>
    <link rel="prev" href="Scala_Build_Examples.html" />
    <link rel="next" href="Scala_Web_Examples.html" />
    <meta name="generator" content="Antora 3.1.9" />
    <link rel="stylesheet" href="../_/css/site.css" />
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-1C582ZJR85"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-1C582ZJR85')</script>
<link rel="icon" href="../_/favicon.png" type="image/x-icon" />
  
  </head><body class="article">
  
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: add mill icon -->
      <a class="navbar-item" href="https://mill-build.org"><img src="../_/logo-white.svg" height="20" />Â The Mill Build Tool</a>
      <div class="navbar-item search">
        <input id="search-input" type="text" placeholder="Search the docs" />
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">Source Code (GitHub)</a>
        <a class="navbar-item" href="https://mill-build.org/api/latest/index.html">API</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/discussions">Discuss</a>
        <a class="navbar-item" href="https://discord.com/channels/632150470000902164/940067748103487558">Chat</a>

            <!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#"></a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
        -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mill" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="Java_Intro_to_Mill.html">Introduction to Mill for Java</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Java_Installation_IDE_Support.html">Installation and IDE Support</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Java_Builtin_Commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Java_Module_Config.html">Java Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Java_Build_Examples.html">Java Build Examples</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Testing_Java_Projects.html">Testing Java Projects</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Java_Web_Examples.html">Java Web Examples</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Case_Study_Mill_vs_Maven.html">Case Study: Mill vs Maven</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Case_Study_Mill_vs_Gradle.html">Case Study: Mill vs Gradle</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="Scala_Intro_to_Mill.html">Introduction to Mill for Scala</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Scala_Installation_IDE_Support.html">Installation and IDE Support</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Scala_Builtin_Commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Scala_Module_Config.html">Scala Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Scala_Build_Examples.html">Scala Build Examples</a>
  </li>

  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="Testing_Scala_Projects.html">Testing Scala Projects</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Scala_Web_Examples.html">Scala Web Examples</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Case_Study_Mill_vs_SBT.html">Case Study: Mill vs SBT</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill In Depth</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Library_Dependencies.html">Library Dependencies in Mill</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Out_Dir.html">The Output Directory</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Tasks.html">Tasks</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Cross_Builds.html">Cross Builds</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Target_Query_Syntax.html">Target Query Syntax</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Structuring_Large_Builds.html">Structuring Large Builds</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="The_Mill_Evaluation_Model.html">The Mill Evaluation Model</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Mill_Sandboxing.html">Mill Sandboxing</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extending Mill</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Import_File_And_Import_Ivy.html">import $file and import $ivy</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Using_Plugins.html">Using Plugins</a>
  </li>

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="Contrib_Plugins.html">Contrib Plugins</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/artifactory.html">Artifactory</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/bintray.html">Bintray</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/bloop.html">Bloop</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/buildinfo.html">BuildInfo</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/codeartifact.html">Codeartifact</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/docker.html">Docker</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/errorprone.html">Mill ErrorProne Plugin</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/flyway.html">Flyway</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/gitlab.html">Gitlab</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/jmh.html">JMH</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/playlib.html">Play Framework</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/proguard.html">Proguard</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/scalapblib.html">ScalaPB</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/scoverage.html">Scoverage</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/sonatypecentral.html">Sonatype Central</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/testng.html">TestNG</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/twirllib.html">Twirl</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/versionfile.html">Version file</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Thirdparty_Plugins.html">Third-Party Plugins</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Writing_Mill_Plugins.html">Writing Mill Plugins</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="The_Mill_Meta_Build.html">The Mill Meta-Build</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Mill_Design_Principles.html">Mill Design Principles</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Bundled_Libraries.html">Bundled Libraries</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://mill-build.org/api/latest/mill/index.html">Mill Scaladoc</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Changelog.html">Changelog</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Mill Documentation</span>
    <span class="version">0.12.0-RC1-9-4ed83d</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="0.11.12/index.html">Mill Documentation</a></div>
      <ul class="versions">
        <li class="version is-current">
          <a href="index.html">0.12.0-RC1-9-4ed83d</a>
        </li>
        <li class="version is-latest">
          <a href="0.11.12/index.html">0.11.12</a>
        </li>
        <li class="version">
          <a href="0.11.11/index.html">0.11.11</a>
        </li>
        <li class="version">
          <a href="0.11.10/index.html">0.11.10</a>
        </li>
        <li class="version">
          <a href="0.11.0-M7/index.html">0.11.0-M7</a>
        </li>
        <li class="version">
          <a href="0.10.15/index.html">0.10.15</a>
        </li>
        <li class="version">
          <a href="0.10.12/index.html">0.10.12</a>
        </li>
        <li class="version">
          <a href="0.10.0/index.html">0.10.0</a>
        </li>
        <li class="version">
          <a href="0.9.12/index.html">0.9.12</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="0.11.12/Java_Intro_to_Mill.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Mill Documentation</a></li>
    <li><a href="Scala_Intro_to_Mill.html">Introduction to Mill for Scala</a></li>
    <li><a href="Testing_Scala_Projects.html">Testing Scala Projects</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">0.12.0-RC1-9-4ed83d</button>
  <div class="version-menu">
    <a class="version is-current" href="Testing_Scala_Projects.html">0.12.0-RC1-9-4ed83d</a>
    <a class="version is-missing" href="0.11.12/index.html">0.11.12</a>
    <a class="version is-missing" href="0.11.11/index.html">0.11.11</a>
    <a class="version is-missing" href="0.11.10/index.html">0.11.10</a>
    <a class="version is-missing" href="0.11.0-M7/index.html">0.11.0-M7</a>
    <a class="version is-missing" href="0.10.15/index.html">0.10.15</a>
    <a class="version is-missing" href="0.10.12/index.html">0.10.12</a>
    <a class="version is-missing" href="0.10.0/index.html">0.10.0</a>
    <a class="version is-missing" href="0.9.12/index.html">0.9.12</a>
  </div>
</div>
<div class="edit-this-page"><a href="https://github.com/com-lihaoyi/mill/edit/main/docs/modules/ROOT/pages/Testing_Scala_Projects.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Testing Scala Projects</h1>
<div id="preamble">
<div class="sectionbody">
<script>
gtag('config', 'AW-16649289906');
</script>
<div class="paragraph">
<p>This page will discuss common topics around working with test suites using the Mill build tool</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_defining_unit_test_suites"><a class="anchor" href="#_defining_unit_test_suites"></a>Defining Unit Test Suites</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">build.mill (<a href="https://github.com/com-lihaoyi/mill/releases/download/0.12.0-RC1/0.12.0-RC1-example-scalalib-testing-1-test-suite.zip">download</a>, <a href="https://github.com/com-lihaoyi/mill/blob/0.12.0-RC1//example/scalalib/testing/1-test-suite">browse</a>)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">package build
import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = &quot;2.13.8&quot;
  object test extends ScalaTests {
    def ivyDeps = Agg(ivy&quot;com.lihaoyi::utest:0.8.4&quot;)
    def testFramework = &quot;utest.runner.Framework&quot;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This build defines a single module with a test suite, configured to use
&quot;uTest&quot; as the testing framework. Test suites are themselves <code>ScalaModule</code>s,
nested within the enclosing module,
and have all the normal tasks like
<code>foo.test.compile</code> available to run, but with an additional <code>.test</code> task
that runs the tests. You can also run the test suite directly, in which case
it will run the <code>.test</code> task as the default task for that module.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill foo.compile
compiling 1 ... source...

&gt; mill foo.test.compile
compiling 1 ... source...

&gt; mill foo.test.test
...foo.FooTests.hello ...
...foo.FooTests.world ...

&gt; mill foo.test
...foo.FooTests.hello ...
...foo.FooTests.world ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>For convenience, you can also use one of the predefined test frameworks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>TestModule.Junit4</code></p>
</li>
<li>
<p><code>TestModule.Junit5</code></p>
</li>
<li>
<p><code>TestModule.TestNg</code></p>
</li>
<li>
<p><code>TestModule.Munit</code></p>
</li>
<li>
<p><code>TestModule.ScalaTest</code></p>
</li>
<li>
<p><code>TestModule.Specs2</code></p>
</li>
<li>
<p><code>TestModule.Utest</code></p>
</li>
<li>
<p><code>TestModule.ZioTest</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">object bar extends ScalaModule {
  def scalaVersion = &quot;2.13.8&quot;

  object test extends ScalaTests with TestModule.Utest {
    def ivyDeps = Agg(ivy&quot;com.lihaoyi::utest:0.8.4&quot;)
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill bar.test
...bar.BarTests.hello ...
...bar.BarTests.world ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also select multiple test suites in one command using Millâs
<a href="Target_Query_Syntax.html" class="xref page">Target Query Syntax</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill __.test
...bar.BarTests.hello ...
...bar.BarTests.world ...
...foo.FooTests.hello ...
...foo.FooTests.world ...
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mill provides three ways of running tests</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>foo.test.test</code>: runs tests in a subprocess in an empty <code>sandbox/</code> folder.</p>
</li>
<li>
<p><code>foo.test.testCached</code>: runs the tests in an empty <code>sandbox/</code> folder and caches the results
if successful. Also allows multiple test modules to be run in parallel e.g. via <code>mill __.testCached</code></p>
</li>
<li>
<p><code>foo.test.testLocal</code>: runs tests in an isolated classloader as part of the main Mill process.
This can be faster than <code>.test</code>, but is less flexible (e.g. you cannot pass <code>forkEnv</code>)
and more prone to interference (due to sharing the <code>sandbox/</code> folder provided by the
Mill process)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill bar.test.test

&gt; mill bar.test.testCached

&gt; mill bar.test.testLocal</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mill provides three ways of running tests</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>foo.test.test</code>: runs tests in a subprocess in an empty <code>sandbox/</code> folder, and
<code>forkArg</code> and <code>forkEnv</code> can be overridden to pass JVM flags &amp; environment variables.</p>
</li>
<li>
<p><code>foo.test.testCached</code>: runs the tests in an empty <code>sandbox/</code> folder and caches the results
if successful. Also allows multiple test modules to be run in parallel e.g. via
<code>mill __.testCached</code>. Again, <code>forkEnv</code> and <code>forkArgs</code> can be configured.</p>
</li>
<li>
<p><code>foo.test.testLocal</code>: runs tests in an isolated classloader as part of the main Mill process.
This can be faster than <code>.test</code>, but is less flexible (e.g. you cannot pass <code>forkEnv</code>)
and more prone to interference (due to sharing the <code>sandbox/</code> folder provided by the
Mill process)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill bar.test.test

&gt; mill bar.test.testCached

&gt; mill bar.test.testLocal</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note that Mill runs tests with the working directory set to an empty <code>sandbox/</code> folder by default</strong>.
Tests can access files from their resource directory via the environment variable
<code>MILL_TEST_RESOURCE_FOLDER</code> which provides the path to the resource folder, and additional
paths can be provided to test via <code>forkEnv</code>. See
<a href="Java_Module_Config.html#_classpath_and_filesystem_resources" class="xref page">Classpath and Filesystem Resources</a>
for more details.</p>
</div>
<div class="paragraph">
<p>If you want to pass any arguments to the test framework, simply put them after
<code>foo.test</code> in the command line. e.g. <a href="https://github.com/com-lihaoyi/utest">uTest</a>
lets you pass in a selector to decide which test to run, which in Mill would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill bar.test bar.BarTests.hello
...bar.BarTests.hello ...</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_dependencies"><a class="anchor" href="#_test_dependencies"></a>Test Dependencies</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><em>Mill has no <code>test</code>-scoped dependencies!</em></p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>You might be used to test-scoped dependencies from other build tools like
Maven, Gradle or sbt. As test modules in Mill are just regular modules,
there is no special need for a dedicated test-scope. You can use <code>ivyDeps</code>
and <code>runIvyDeps</code> to declare dependencies in test modules, and test modules
can use their <code>moduleDeps</code> to also depend on each other</p>
</div>
<div class="listingblock">
<div class="title">build.mill (<a href="https://github.com/com-lihaoyi/mill/releases/download/0.12.0-RC1/0.12.0-RC1-example-scalalib-testing-2-test-deps.zip">download</a>, <a href="https://github.com/com-lihaoyi/mill/blob/0.12.0-RC1//example/scalalib/testing/2-test-deps">browse</a>)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">package build
import mill._, scalalib._

object qux extends ScalaModule {
  def scalaVersion = &quot;2.13.8&quot;
  def moduleDeps = Seq(baz)

  object test extends ScalaTests {
    def ivyDeps = Agg(ivy&quot;com.lihaoyi::utest:0.8.4&quot;)
    def testFramework = &quot;utest.runner.Framework&quot;
    def moduleDeps = super.moduleDeps ++ Seq(baz.test)
  }
}


object baz extends ScalaModule {
  def scalaVersion = &quot;2.13.8&quot;

  object test extends ScalaTests {
    def ivyDeps = Agg(ivy&quot;com.lihaoyi::utest:0.8.4&quot;)
    def testFramework = &quot;utest.runner.Framework&quot;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, not only does <code>qux</code> depend on <code>baz</code>, but we also make
<code>qux.test</code> depend on <code>baz.test</code>. That lets <code>qux.test</code> make use of the
<code>BazTestUtils</code> class that <code>baz.test</code> defines, allowing us to re-use this
test helper throughout multiple modules' test suites</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; ./mill qux.test
Using BazTestUtils.bazAssertEquals
... qux.QuxTests.simple ...
...

&gt; ./mill baz.test
Using BazTestUtils.bazAssertEquals
... baz.BazTests.simple ...
...</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_defining_integration_test_suites"><a class="anchor" href="#_defining_integration_test_suites"></a>Defining Integration Test Suites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can also define test suites with different names other than <code>test</code>. For example,
the build below defines a test suite with the name <code>integration</code>, in addition
to that named <code>test</code>.</p>
</div>
<div class="listingblock">
<div class="title">build.mill (<a href="https://github.com/com-lihaoyi/mill/releases/download/0.12.0-RC1/0.12.0-RC1-example-scalalib-testing-3-integration-suite.zip">download</a>, <a href="https://github.com/com-lihaoyi/mill/blob/0.12.0-RC1//example/scalalib/testing/3-integration-suite">browse</a>)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">package build
import mill._, scalalib._

object qux extends ScalaModule {
  def scalaVersion = &quot;2.13.8&quot;

  object test extends ScalaTests with TestModule.Utest {
    def ivyDeps = Agg(ivy&quot;com.lihaoyi::utest:0.8.4&quot;)
  }
  object integration extends ScalaTests with TestModule.Utest {
    def ivyDeps = Agg(ivy&quot;com.lihaoyi::utest:0.8.4&quot;)
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>These two test modules will expect their sources to be in their respective <code>foo/test</code> and
<code>foo/integration</code> folder respectively</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill 'qux.{test,integration}' # run both test suites
...qux.QuxTests...hello...
...qux.QuxTests...world...
...qux.QuxIntegrationTests...helloworld...

&gt; mill __.integration.testCached # run all integration test suites</code></pre>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="Scala_Build_Examples.html">Scala Build Examples</a></span>
  <span class="next"><a href="Scala_Web_Examples.html">Scala Web Examples</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async="async" src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="100" data-stylesheet="../_/css/search.css"></script>
<script async="async" src="../search-index.js"></script>
  
</body></html>