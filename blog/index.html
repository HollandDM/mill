<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>The Mill Build Engineering Blog :: The Mill JVM Build Tool</title>
    <link rel="canonical" href="https://mill-build.org/blog/index.html" />
    <link rel="next" href="5-executable-jars.html" />
    <meta name="generator" content="Antora 3.1.9" />
    <link rel="stylesheet" href="../_/css/site.css" />
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-1C582ZJR85"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-1C582ZJR85')</script>
<link rel="icon" href="../_/favicon.png" type="image/x-icon" />
  
  <style>
*{
  hyphens: manual !important;
}
</style><style>
*{
  hyphens: manual !important;
}
</style><style>
*{
  hyphens: manual !important;
}
</style><style>
*{
  hyphens: manual !important;
}
</style><style>
*{
  hyphens: manual !important;
}
</style><style>
*{
  hyphens: manual !important;
}
</style></head><body class="article">
  
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: add mill icon -->
      <a class="navbar-item" href="https://mill-build.org"><img src="../_/logo-white.svg" height="20" /> The Mill JVM Build Tool</a>
      <div class="navbar-item search">
        <input id="search-input" type="text" placeholder="Search the docs" />
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">GitHub</a>
        <a class="navbar-item" href="https://mill-build.org/blog">Blog</a>
        <a class="navbar-item" href="https://mill-build.org/api/latest/index.html">API</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/discussions">Discuss</a>


            <!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#"></a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
        -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="blog" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">

  <li class="nav-item" data-depth="0">
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="5-executable-jars.html">How JVM Executable Assembly Jars Work</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="4-flaky-tests.html">How To Manage Flaky Tests</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="3-selective-testing.html">Faster CI with Selective Testing</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="2-monorepo-build-tool.html">Why Use a Monorepo Build Tool?</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="1-java-compile.html">How Fast Does Java Compile?</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">The Mill Build Engineering Blog</span>
    <span class="version"></span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../mill/index.html">Mill Documentation</a></div>
      <ul class="versions">
        <li class="version">
          <a href="../mill/main-branch/index.html">main-branch</a>
        </li>
        <li class="version is-latest">
          <a href="../mill/index.html">latest-0.12.5</a>
        </li>
        <li class="version">
          <a href="../mill/0.12.x/index.html">0.12.x</a>
        </li>
        <li class="version">
          <a href="../mill/0.11.x/index.html">0.11.x</a>
        </li>
        <li class="version">
          <a href="../mill/0.10.15/index.html">0.10.15</a>
        </li>
        <li class="version">
          <a href="../mill/0.9.12/index.html">0.9.12</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="index.html">The Mill Build Engineering Blog</a></div>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../mill/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">The Mill Build Engineering Blog</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="https://github.com/com-lihaoyi/mill/edit/main/out/docs/blogFolder.dest/modules/ROOT/pages/index.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">The Mill Build Engineering Blog</h1>
<div id="preamble">
<div class="sectionbody">

<script>
gtag('config', 'AW-16649289906');

document.addEventListener('DOMContentLoaded', function() {
const links = document.querySelectorAll('a');
  links.forEach(link => {
    if (link.textContent.trim().toLowerCase() === 'download') {
      link.addEventListener('click', function(event) {
        console.log("download link clicked")
        gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
      });
    }
  });
});
</script>
<div class="paragraph">
<p>Welcome to the Mill build engineering blog! This is the home for articles on
technical topics related to JVM platform tooling and language-agnostic build tooling,
some specific to the Mill build tool but mostly applicable to anyone working on
build tooling for large codebases in JVM and non-JVM languages.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_jvm_executable_assembly_jars_work"><a class="anchor" href="#_how_jvm_executable_assembly_jars_work"></a>How JVM Executable Assembly Jars Work</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Li Haoyi, 2 January 2024</em></p>
</div>

<script>
gtag('config', 'AW-16649289906');

document.addEventListener('DOMContentLoaded', function() {
const links = document.querySelectorAll('a');
  links.forEach(link => {
    if (link.textContent.trim().toLowerCase() === 'download') {
      link.addEventListener('click', function(event) {
        console.log("download link clicked")
        gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
      });
    }
  });
});
</script>
<div class="paragraph">
<p>One feature of the <a href="https://mill-build.org">Mill JVM build tool</a> is that the
assembly jars it creates are directly executable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; ./mill show foo.assembly # generate the assembly jar
&quot;ref:v0:bd2c6c70:/Users/lihaoyi/test/out/foo/assembly.dest/out.jar&quot;

&gt; out/foo/assembly.dest/out.jar # run the assembly jar directly
Hello World</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other JVM build tools also can generate assemblies, but most need you to run them
via <code>java -jar</code> or <code>java -cp</code>,
or require you to use <a href="https://docs.oracle.com/en/java/javase/11/tools/jlink.html">jlink</a> or
<a href="https://docs.oracle.com/en/java/javase/17/docs/specs/man/jpackage.html">jpackage</a>
which are much more heavyweight and troublesome to set up. Mill automates that, and while not
groundbreaking, it is a nice convenience that makes your JVM
code built with Mill fit more nicely into command-line centric workflows common in modern
software systems.</p>
</div>
<div class="paragraph">
<p>This article will discuss how Mill’s executable assemblies are implemented, so perhaps
other build tools and toolchains will be able to provide the same convenience</p>
</div>
<div class="paragraph">
<p><a href="5-executable-jars.html" class="xref page">Read More…​</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_manage_flaky_tests"><a class="anchor" href="#_how_to_manage_flaky_tests"></a>How To Manage Flaky Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Li Haoyi, 1 January 2025</em></p>
</div>

<script>
gtag('config', 'AW-16649289906');

document.addEventListener('DOMContentLoaded', function() {
const links = document.querySelectorAll('a');
  links.forEach(link => {
    if (link.textContent.trim().toLowerCase() === 'download') {
      link.addEventListener('click', function(event) {
        console.log("download link clicked")
        gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
      });
    }
  });
});
</script>
<div class="paragraph">
<p>Many projects suffer from the problem of flaky tests: tests that pass or fail
non-deterministically. These cause confusion, slow development cycles, and endless
arguments between individuals and teams in an organization.</p>
</div>
<div class="paragraph">
<p>This article dives deep into working with flaky tests, from the perspective of someone
who built the first flaky test management systems at Dropbox and Databricks and maintained
the related build and CI workflows over the past decade. The issue of flaky tests can be
surprisingly unintuitive, with many &quot;obvious&quot; approaches being ineffective
or counterproductive. But it turns out there <em>are</em> right and wrong answers to many of
these issues, and we will discuss both so you can better understand what managing flaky tests
is all about.</p>
</div>
<div class="paragraph">
<p><a href="4-flaky-tests.html" class="xref page">Read More…​</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_faster_ci_with_selective_testing"><a class="anchor" href="#_faster_ci_with_selective_testing"></a>Faster CI with Selective Testing</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Li Haoyi, 24 December 2024</em></p>
</div>

<script>
gtag('config', 'AW-16649289906');

document.addEventListener('DOMContentLoaded', function() {
const links = document.querySelectorAll('a');
  links.forEach(link => {
    if (link.textContent.trim().toLowerCase() === 'download') {
      link.addEventListener('click', function(event) {
        console.log("download link clicked")
        gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
      });
    }
  });
});
</script>
<div class="paragraph">
<p>Selective testing is a key technique necessary for working with any large codebase
or monorepo: picking which tests to run to validate a change or pull-request, because
running every test every time is costly and slow. This blog post will explore what
selective testing is all about, the different approaches you can take with selective
testing, based on my experience working on developer tooling and CI for the last decade at
Dropbox and Databricks. Lastly, we will discuss
<a href="../mill/large/selective-execution.html" class="xref page">how the Mill build tool supports selective testing</a>.</p>
</div>
<div class="paragraph">
<p><a href="3-selective-testing.html" class="xref page">Read More…​</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_use_a_monorepo_build_tool"><a class="anchor" href="#_why_use_a_monorepo_build_tool"></a>Why Use a Monorepo Build Tool?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Li Haoyi, 17 December 2024</em></p>
</div>

<script>
gtag('config', 'AW-16649289906');

document.addEventListener('DOMContentLoaded', function() {
const links = document.querySelectorAll('a');
  links.forEach(link => {
    if (link.textContent.trim().toLowerCase() === 'download') {
      link.addEventListener('click', function(event) {
        console.log("download link clicked")
        gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
      });
    }
  });
});
</script>
<div class="paragraph">
<p>Software build tools mostly fall into two categories:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Single-language build tools, e.g.
<a href="https://maven.apache.org/">Maven</a> (Java), <a href="https://python-poetry.org/">Poetry</a> (Python),
<a href="https://doc.rust-lang.org/cargo/">Cargo</a> (Rust)</p>
</li>
<li>
<p>Monorepo build tools targeting large codebases, e.g. <a href="https://bazel.build/">Bazel</a>,
<a href="https://www.pantsbuild.org/">Pants</a>, <a href="https://buck.build/">Buck</a>, and <a href="https://mill-build.org/">Mill</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>One question that comes up constantly is why do people use Monorepo build tools? Tools
like Bazel are orders of magnitude more complicated and hard to use than tools
like Poetry or Cargo, so why do people use them at all?</p>
</div>
<div class="paragraph">
<p><a href="2-monorepo-build-tool.html" class="xref page">Read More…​</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_fast_does_java_compile"><a class="anchor" href="#_how_fast_does_java_compile"></a>How Fast Does Java Compile?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Li Haoyi, 29 November 2024</em></p>
</div>

<script>
gtag('config', 'AW-16649289906');

document.addEventListener('DOMContentLoaded', function() {
const links = document.querySelectorAll('a');
  links.forEach(link => {
    if (link.textContent.trim().toLowerCase() === 'download') {
      link.addEventListener('click', function(event) {
        console.log("download link clicked")
        gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
      });
    }
  });
});
</script>
<div class="paragraph">
<p>Java compiles have the reputation for being slow, but that reputation does
not match today’s reality. Nowadays the Java compiler can compile &quot;typical&quot; Java code at over
100,000 lines a second on a single core. That means that even a million line project
should take more than 10s to compile in a single-threaded fashion, and should be even
faster in the presence of parallelism</p>
</div>
<div class="paragraph">
<p><a href="1-java-compile.html" class="xref page">Read More…​</a></p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="next"><a href="5-executable-jars.html">How JVM Executable Assembly Jars Work</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async="async" src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="100" data-stylesheet="../_/css/search.css"></script>
<script async="async" src="../search-index.js"></script>
  
</body></html>